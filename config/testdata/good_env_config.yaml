id: good-env-config
apis:
- id: api-1
  base_path: /v1
  target_authentication:
    refresh_interval: 1h
    google_oauth:
      service_account_email: foo@bar.gserviceaccount.com
      access_token:
        scopes:
        - scope-1
  authentication:
    jwt:
      name: foo
      issuer: bar
      in:
      - header: header
      remote_jwks:
        url: url
        cache_duration: 1h
  consumer_authorization:
    in:
    - header: x-api-key
  operations:
  - name: op-1
    http_match:
    - path_template: /petstore
      method: GET
    target_authentication:
      refresh_interval: 1m
      google_oauth:
        service_account_email: foo@bar.gserviceaccount.com
        id_token:
          audience: aud
          include_email: true
  - name: op-2
    http_match:
    - path_template: /bookshop
      method: POST
  http_request_transforms:
    headers:
      add:
      - name: x-apigee-route
        value: route
